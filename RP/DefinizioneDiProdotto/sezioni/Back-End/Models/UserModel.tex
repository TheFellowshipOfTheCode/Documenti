\paragraph{QuizziPedia::Back-End::App::Models::UserModel}
\label{QuizziPedia::Back-End::App::Models::UserModel}
\begin{figure}[ht]
	\centering
	\includegraphics[scale=0.45]{UML/Classi/Back-End/QuizziPedia_Back-End_App_Models_userModel.png}
	\caption{QuizziPedia::Back-End::App::Models::UserModel}
\end{figure}
\FloatBarrier
\begin{itemize}
	\item \textbf{Descrizione} \\
	Classe che modella la creazione e la gestione dei dati utente
	\item \textbf{Utilizzo} \\
	Viene utilizzata per rappresentare i dati degli account dei vari utenti dell'applicazione. Si interfaccia alla libreria Mongoose per la creazione dello schema e dei relativi metodi statici o di istanza.
	\item \textbf{Relazioni con altre classi} 
		\begin{itemize}
			\item \textbf{OUT SummaryModel} \\
			Questa classe rappresenta il riepologo dei questionari svolti dagli utenti.
			\item \textbf{IN QuestionModel} \\
			Questa classe rappresenta i dati delle domande create dai vari utenti.
			\item \textbf{IN QuizModel} \\
			Questa classe rappresenta i dati dei questionari creati dagli utenti Pro.
			\item \textbf{IN UserProModel} \\
			Questa classe rappresenta i dati riguardanti l'utente pro.
		\end{itemize}
	\item \textbf{Attributi} 
		\begin{itemize}
			\item \textbf{- \texttt{userSchema}: \texttt{Schema}} \\
			Questo campo dati rappresenta lo schema Mongoose dell'utente QuizziPedia. Lo schema prevede i seguenti attributi:
			\begin{itemize}
				\item 
					\texttt{name} di tipo \texttt{String}, rappresenta il nome  dell'utente registrato;
				\item 
					\texttt{surname} di tipo \texttt{String}, rappresenta il cognome  dell'utente registrato;
				\item 
					\texttt{email} di tipo \texttt{String}, rappresenta l'email  dell'utente registrato;
				\item 
					\texttt{userImg} di tipo \texttt{String}, rappresenta il path della foto profilo dell'utente registrato;
				\item 
					\texttt{username} di tipo \texttt{String}, rappresenta l'username con cui viene identificato l'utente all'interno dell'applicazione;		
				\item
					\texttt{password} di tipo \texttt{String}, rappresenta la password associata all'utente,  appositamente codificata mediante l'algoritmo bcrypt;  		
				\item
					\texttt{statistics} di tipo \texttt{Array Mixed}, contenente i seguenti attributi:
				\begin{itemize}
					\item
						\texttt{topicName} di tipo \texttt{String}, rappresenta il nome della statistica relativa all'argomento;	 
					\item
						 \texttt{topicLevel} di tipo \texttt{Number}, identifica il livello di preparazione dell'utente in un determinato argomento;
					\item
						\texttt{correctAnswers} di tipo \texttt{Number}, identifica il numero di risposte corrette date dall'utente riguardanti domande di un determinato argomento; 
					\item						
						 \texttt{totalAnswers} di tipo \texttt{Number} , identifica il numero di risposte totali date dall'utente riguardanti domande di un determinato argomento.		
				\end{itemize}		
				\item 
					\texttt{levelUsers} di tipo \texttt{Number}, identifica il livello dell'utente;				
				
				\item
					\texttt{quizSummaries} di tipo \texttt{Array}, contiene oggetti di tipo \texttt{ObjectId}, che rappresentano i riferimenti agli identificativi nel database dei questionari svolti dall'utente;		
			\end{itemize}	
		\end{itemize}	
	\item \textbf{Metodi}
		\begin{itemize}
		\item
		- \texttt{hashPassword(password: String): String} \\
		Effettua l'hashing della stringa password se non è già stata criptata tramite campo salt per evitare attacchi di tipo rainbow. \\
		\textbf{Parametri} 
			\begin{itemize}
			\item
				 \texttt{password: String} \\
				Rappresenta la password dell'utente.
			\end{itemize}
		\item
		- \texttt{validPassword(password: String): String} \\
		Effettua la validità della password inserita comparandola con la password criptata.	\\
		\textbf{Parametri} 
			\begin{itemize}
			\item
				\texttt{password: String} \\
				Rappresenta la password inserita dall'utente.
			\end{itemize}
		\item
		+ \texttt{editUser(content: JSON, callback: function(JSON), errback: function(QuizzipediaError))} \\
		Questo metodo aggiorna i dati personali dell'utente. Restituisce un oggetto JSON che descrive l’elemento dopo l’aggiornamento oppure un messaggio di errore.	\\
		\textbf{Parametri} 
			\begin{itemize}
			\item
				\texttt{content: JSON} \\
				Rappresenta i dati dell'utente da aggiornare.
			\item	
				\texttt{callback: function(JSON)} \\
				Rappresenta la callback che il metodo deve chiamare al termine dell'elaborazione.
			\item	
				\texttt{errback: function(QuizzipediaError)} \\
				Questo parametro rappresenta la callback che il metodo deve chiamare qualora si verificassero errori nell'esecuzione del metodo.
			\end{itemize}	
		\item	
		+ \texttt{editPassword(password: String, errback: function(QuizzipediaError))} \\
		Questo metodo aggiorna la password vecchia dell'utente con quella passata per parametro. Restituisce un messaggio di errore nel caso in cui si verificati dei problemi nel cambio della password.	\\
		\textbf{Parametri} 
			\begin{itemize}
			\item
				\texttt{password: String} \\
				Rappresenta la nuova password dell'utente da sostituire a quella vecchia.
			\item	
				\texttt{errback: function(QuizzipediaError)} \\
				Questo parametro rappresenta la callback che il metodo deve chiamare qualora si verificassero errori nell'esecuzione del metodo.
			\end{itemize}
		\item	
		+ \texttt{setImg(image : String, errback : function(QuizziPediaError))} \\	
		Questo metodo aggiorna l'immagine profilo dell'utente. Restituisce un messaggio di errore nel caso in cui si verificati dei problemi nell'aggiornamento dell'immagine.	\\	
		\textbf{Parametri} 
			\begin{itemize}
			\item
				\texttt{image: String} \\
				Rappresenta l'immagine per aggiornare la foto del profilo.
			\item	
				\texttt{errback: function(QuizzipediaError)} \\
				Questo parametro rappresenta la callback che il metodo deve chiamare qualora si verificassero errori nell'esecuzione del metodo.
			\end{itemize}
		\item	
		+ \texttt{updateStatistics(statistics : JSON, callback : function(JSON))} \\	
		Questo metodo aggiorna le statistiche dell'utente in un determinato argomento. Restituisce un oggetto JSON che descrive le statistiche dell'utente dopo l'aggiornamento.	\\	
		\textbf{Parametri} 
			\begin{itemize}
			\item
				\texttt{statistics: JSON} \\
				Rappresenta il contenuto delle statistiche riguardanti l'esercitazione effettuata in un determinato argomento da utilizzare per aggiornare quelle esistenti .
			\item	
				\texttt{callback: function(JSON)} \\
				Rappresenta la callback che il metodo deve chiamare al termine dell'elaborazione.
			\end{itemize}
		\item		
		+ \texttt{upLevel(callback : function(JSON))} \\
		Questo metodo aggiorna il livello di difficoltà relativo alla capacità dell'utente a rispondere a determinate domande. Restituisce un oggetto JSON che descrive il livello dell'utente dopo l'aggiornamento.	\\	
		\textbf{Parametri} 
			\begin{itemize}
			\item	
				\texttt{callback: function(JSON)} \\
				Rappresenta la callback che il metodo deve chiamare al termine dell'elaborazione.		
			\end{itemize}
		\item		
		+ \texttt{deleteUser(callback : function(JSON), errback:function(QuizzipediaError))} \\	
		Questo metodo elimina dal sistema l'utente registrato. Restituisce un oggetto JSON che descrive i dati dell'utente eliminato.	\\	
		\textbf{Parametri} 
			\begin{itemize}
			\item	
				\texttt{callback: function(JSON)} \\
				Rappresenta la callback che il metodo deve chiamare al termine dell'elaborazione.	
			\item	
				\texttt{errback: function(QuizzipediaError)} \\
				Questo parametro rappresenta la callback che il metodo deve chiamare qualora si verificassero errori nell'esecuzione del metodo.		
			\end{itemize}
		\item	
		+ \texttt{updateSummary(quiz : JSON)}	
		Questo metodo aggiorna la cronologia dell'utente in relazione ai questionari svolti.\\	
		\textbf{Parametri} 
			\begin{itemize}
			\item	
				\texttt{quiz : JSON)} \\
				Rappresenta il contenuto del questionario svolto .		
			\end{itemize}
		\item	
		+ \texttt{getSummaries(callback : function(JSON), errback : function(QuizziPediaError))}	
		Questo metodo ritorna un JSON contenente la cronologia dei questionari svolti da parte dell'utente, in caso di errori una callback che segnalerà i relativi problemi.\\
		\textbf{Parametri} 
			\begin{itemize}
			\item	
				\texttt{callback: function(JSON)} \\
				Rappresenta la callback che il metodo deve chiamare al termine dell'elaborazione.	
			\item	
				\texttt{errback: function(QuizzipediaError)} \\
				Questo parametro rappresenta la callback che il metodo deve chiamare qualora si verificassero errori nell'esecuzione del metodo.
			\end{itemize}	
		\item			
		+ \texttt{getUsers(searchword : String, callback : function(JSON), errback : function(QuizziPediaError))}		
		Questo metodo ritorna un JSON contenente i dati degli utenti in base alla parola chiave cercata, in caso di errori una callback che segnalerà i relativi problemi.\\
		\textbf{Parametri} 
			\begin{itemize}
			\item	
				\texttt{searchword: String} \\
				Rappresenta la parola chiave cercata in base alla quale verrà filtrata la ricerca degli utenti.	
			\item	
				\texttt{callback: function(JSON)} \\
				Rappresenta la callback che il metodo deve chiamare al termine dell'elaborazione.	
			\item	
				\texttt{errback: function(QuizzipediaError)} \\
				Questo parametro rappresenta la callback che il metodo deve chiamare qualora si verificassero errori nell'esecuzione del metodo.		
			\end{itemize}
		\end{itemize}	
\end{itemize}